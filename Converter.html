<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Lämpömuunnin</title>
</head>
<body>

    <main id="content">
        <h1>Lämpömuunnin</h1>

        <select id="Convs" name="Convs">
            <option value="Choose">Valitse Muunnin</option>
            <option value="FC">Fahrenheit > Celsius</option>
            <option value="CF">Celsius > Fahrenheit</option>
            <option value="FK">Fahrenheit > Kelvin</option>
            <option value="KF">Kelvin > Fahrenheit</option>
            <option value="KC">Kelvin > Celsius</option>
            <option value="CK">Celsius > Kelvin</option>
        </select>

        <h3>Lämpötila</h3>

        <input type="text" name="temp" id="temp" placeholder="Lämpötila" onkeyup="laske(this.value)">
        <h3 id="vastaus"></h3>
    
        <input type="radio" id="desi1" name="desi" value="1" checked onclick="laske(document.getElementById('temp').value)">
        <label for="desi1">1 Desimaali</label><br>
        <input type="radio" id="desi2" name="desi" value="2" onclick="laske(document.getElementById('temp').value)">
        <label for="desi2">2 Desimaalia</label><br>
        <input type="radio" id="desi3" name="desi" value="3" onclick="laske(document.getElementById('temp').value)">
        <label for="desi3">3 Desimaalia</label>
    </main>

    <script>

        function laske(luku) {
            let temp = luku * 1;
            let Convs = document.getElementById('Convs').value;
            let r = document.querySelector('input[name=desi]:checked').value;
            let tulos = '';

            if (Convs == 'Choose') {
                tulos = 'Et Valinnut muunninta';
            } else if (Convs == 'FC') {
                tulos = FC(temp).toFixed(r);
            } else if (Convs == 'CF') {
                tulos = CF(temp).toFixed(r);
            } else if (Convs == 'FK') {
                tulos = FK(temp).toFixed(r);
            } else if (Convs == 'KF') {
                tulos = KF(temp).toFixed(r);
            } else if (Convs == 'KC') {
                tulos = KC(temp).toFixed(r);
            } else {
                tulos = CK(temp).toFixed(r);
            }

            tulostaVastaus(tulos);
        }

        function tulostaVastaus(vastaus){
            document.getElementById("vastaus").innerHTML = vastaus;
        }

        function FC(f) {
            return (f - 32) / 1.8
        }

        function CF(c) {
            return (c) * 1.8 + 32
        }

        function FK(f) {
            return (f + 459.67) / 1.8
        }

        function KF(k) {
            return (k) * 1.8 - 459.67
        }

        function KC(k) {
            return (k) - 273.15
        }

        function CK(c) {
            return (c) + 273.15
        }

    </script>

</body>
</html>